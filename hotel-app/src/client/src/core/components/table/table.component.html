<table class="w-full border-collapse rounded-md text-center">
  <thead>
    <tr class="*:border-2 p-2">
      <th>No</th>
      <th *ngFor="let item of columns">{{ item.title }}</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of data; let i = index" class="*:border-2 *:p-2">
      <td>{{ i + 1 }}</td>
      <td *ngFor="let column of columns">{{ item[column.name] }}</td>
      <td>
        <div class="action flex gap-3 justify-center">
          <button type="submit" title="Edit" (click)="onEdit(item.id)">
            <fa-icon [icon]="faEdit" class="text-green-500"></fa-icon>
          </button>
          <button type="submit" title="Delete" (click)="onDelete(item.id)">
            <fa-icon [icon]="faTrash" class="text-red-500"></fa-icon>
          </button>
        </div>
      </td>
    </tr>
  </tbody>
</table>

<div class="pagination flex justify-between items-center border-b-2 py-2">
  <!-- Page Size  -->
  <div class="page-size">
    <label for="pageSize">Page Size</label>
    <select
      (change)="onChangeSize($event)"
      id="pageSize"
      class="border-2 cursor-pointer ml-1 p-1 rounded-md"
    >
      <option *ngFor="let size of pageSizes" [value]="size">
        {{ size }}
      </option>
    </select>
  </div>
  <!-- Page item -->
  <div class="page-item">
    <ul class="page-list flex gap-2">
      <li class="page-item">
        <button
          title="Page Item"
          [ngClass]="{
            'pointer-events-none bg-blue-500 text-white': currentPage == 0
          }"
          (click)="onChangePageNumber(0)"
          class="border border-slate-400 px-2 rounded-full hover:bg-blue-500 hover:text-white"
        >
          <fa-icon [icon]="faAngleDoubleLeft"></fa-icon>
        </button>
      </li>
      <li class="page-item">
        <button
          title="Page Item"
          [ngClass]="{
            'pointer-events-none bg-blue-500 text-white': currentPage == 0
          }"
          class="border border-slate-400 px-2 rounded-full hover:bg-blue-500 hover:text-white"
          (click)="onChangePageNumber(currentPage - 1)"
        >
          <fa-icon [icon]="faAngleLeft"></fa-icon>
        </button>
      </li>
      <li class="page-item" *ngFor="let item of getPageList()">
        <button
          title="Page Item"
          [ngClass]="{ 'bg-blue-500 text-white': currentPage == item }"
          class="border border-slate-400 px-2 rounded-full hover:bg-blue-500 hover:text-white"
          (click)="onChangePageNumber(item)"
        >
          {{ item + 1 }}
        </button>
      </li>
      <li class="page-item">
        <button
          title="Page Item"
          [ngClass]="{
            'bg-blue-500 text-white pointer-events-none':
              currentPage == totalPages - 1
          }"
          class="border border-slate-400 px-2 rounded-full hover:bg-blue-500 hover:text-white"
          (click)="onChangePageNumber(currentPage + 1)"
        >
          <fa-icon [icon]="faAngleRight"></fa-icon>
        </button>
      </li>
      <li class="page-item">
        <button
          title="Page Item"
          [ngClass]="{
            'bg-blue-500 text-white pointer-events-none':
              currentPage == totalPages - 1
          }"
          class="border border-slate-400 px-2 rounded-full hover:bg-blue-500 hover:text-white"
          (click)="onChangePageNumber(totalPages - 1)"
        >
          <fa-icon [icon]="faAngleDoubleRight"></fa-icon>
        </button>
      </li>
    </ul>
  </div>
  <!-- Page detail -->
  <div class="page-detail">
    <span>{{ pageSize * pageNumber + 1 }} - </span>
    <span
      >{{
        (pageNumber + 1) * pageSize > totalElements
          ? totalElements
          : (pageNumber + 1) * pageSize
      }}
      of
    </span>
    <span>{{ totalElements }}</span>
  </div>
</div>
